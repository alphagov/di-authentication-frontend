{% extends "common/layout/base.njk" %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/inset-text/macro.njk" import govukInsetText %}
{% from "govuk/components/radios/macro.njk" import govukRadios %}
{% from "govuk/components/details/macro.njk" import govukDetails %}

{% if serviceType === 'OPTIONAL'  %}
  {% set pageTitleVariableName = 'pages.signInOrCreate.optional.title' %}
{% endif %}
{% if serviceType === 'MANDATORY'  %}
  {% set pageTitleVariableName = 'pages.signInOrCreate.mandatory.title' %}
{% endif %}

{% set pageTitleName = pageTitleVariableName | translate %}

{% block content %}

{% include "common/errors/errorSummary.njk" %}

{% if serviceType === 'OPTIONAL' %}

  <h1 class="govuk-heading-l govuk-!-margin-top-0 govuk-!-margin-bottom-3">{{'pages.signInOrCreate.optional.header' | translate}}</h1>
  <p class="govuk-body">{{'pages.signInOrCreate.optional.paragraph1' | translate}}</p>
  {{ govukInsetText({
    text: 'pages.signInOrCreate.optional.paragraph2' | translate
  }) }}

{% else %}

  <h1 class="govuk-heading-l govuk-!-margin-top-0 govuk-!-margin-bottom-3">{{'pages.signInOrCreate.mandatory.header' | translate}}</h1>
  <p class="govuk-body">{{'pages.signInOrCreate.mandatory.paragraph1' | translate}}</p>
  {{ govukInsetText({
    text: 'pages.signInOrCreate.mandatory.paragraph2' | translate
  }) }}

{% endif %}

{% set moreAboutTextHtml %}
<p class="govuk-body">{{'pages.signInOrCreate.moreAbout.paragraph1' | translate}}</p>
<p class="govuk-body">{{'pages.signInOrCreate.moreAbout.paragraph2' | translate}}</p>
<p class="govuk-body">{{'pages.signInOrCreate.moreAbout.paragraph3' | translate}}</p>
{% endset %}

{{ govukDetails({
  summaryText: 'pages.signInOrCreate.moreAbout.header' | translate,
  html: moreAboutTextHtml
}) }}

<form action="/sign-in-or-create" method="post" novalidate>

<input type="hidden" name="_csrf" value="{{csrfToken}}"/>

{{ govukRadios({
  idPrefix: "sign-in-or-create",
  name: "createAccount",
  attributes: {
    "id": "radio-sign-in-or-create-existing-account"
  },
  items: [
    {
      text: 'pages.signInOrCreate.existingAccountRadios.createAccountText' | translate,
      hint: {
        text: 'pages.signInOrCreate.existingAccountRadios.createAccountHintText' | translate
      },
      id: "create-account-true",
      value: "true"
    },
    {
      text: 'pages.signInOrCreate.existingAccountRadios.signInText' | translate,
      id: "create-account-false",
      value: "false"
    }
  ],
  errorMessage: {
  text: errors['createAccount'].text
  } if (errors['createAccount'])
}) }}

{{ govukButton({
  "text": 'pages.signInOrCreate.continueButtonText' | translate,
  "type": "Submit",
  "preventDoubleClick": true
}) }}

</form>

{% endblock %}


